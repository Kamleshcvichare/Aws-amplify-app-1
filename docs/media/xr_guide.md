---
---

# XR

The XR category enables you to work with augmented reality (AR) and virtual reality (VR) content in your web applications. The XR category has built-in support for [Amazon Sumerian](https://aws.amazon.com/sumerian/).
 
XR category makes it easy to embed Amazon Sumerian scenes securely into your web application. You can control end-user access to your scene using Amazon Cognito credentials, and restrict scene access only to the authenticated users. XR category also enables developers to customize the presentational elements of Sumerian scenes, such as loading graphics and the surrounding user interface. 

#### Manual Setup

The manual setup enables you to use embed an existing Amazon Sumerian scene into your app. For setup, you need a Sumerian scene configuration file `sumerian-exports` which you can download from the Sumerian console. After downloading your configuration file, you can configure the XR category in your app.

To download your scene configuration file, visit [Amazon Sumerian console](https://console.aws.amazon.com/sumerian/home), open a scene and select *Scene* > *Publish* menu item.
{: .callout .callout--info}

You can import XR module from *aws-amplify* and use your configuration file to configure XR category:

```js
import { XR } from 'aws-amplify';
import scene1Config from './sumerian-exports'; // This file is generated by the Sumerian Console 

XR.configure({ 
  SumerianProvider: { 
    region: 'us-west-2' // Sumerian region
    scenes: { 
      "scene1": { // Friendly scene name
        sceneConfig: scene1Config  
      }
    },
  }
});
```

When importing XR module, alternatively, you can import the module individually from the *aws-amplify* package:

```js
import XR from '@aws-amplify/xr';
```

### Working with the API 

#### Rendering a Scene into a DIV element

The XR Category allows a Sumerian scene to be rendered into an DIV HTML element with `loadScene` method. When the scene is loaded successfully, *XR.start()* method will start the scene. 

To render the scene, pass your scene name and the id of the element in the method call:

```html
<script>
    async loadAndStartScene() {
        // Load scene with sceneName: "scene1" into dom element id: "sumarian-scene-dom-id"
        await XR.loadScene("scene1", "sumerian-scene-dom-id");
        XR.start("scene1");
    }
    loadAndStartScene();
</script>

// HTML
<div id="sumarian-scene-dom-id"></div>
```

#### Tracking Loading Progress

You can track the loading progress of the scene by setting a function for *progressCallback* parameter in *sceneOptions* :

```js
const progressCallback = (progress) => {
    console.log(`Sumerian scene load progress: ${progress * 100}%`);
}

const sceneOptions = {
    progressCallback: progressCallback
}

await XR.loadScene("scene1", "sumarian-scene-dom-id", sceneOptions);
XR.start("scene1");
```

#### Scene Options

To configure the appearance and the behavior of your Sumerian scene, you can use `sceneOptions` parameter in the method call:

```js
await XR.loadScene("scene1", "sumarian-scene-dom-id", sceneOptions);
```

### Retrieving the Scene Information

You can check the loading status of the scene with *isSceneLoaded* method. Also, you can use *isMuted* method to retrieve audio information about the loaded scene:

```js
if (XR.isSceneLoaded('scene1')) {

    if (XR.isMuted('scene1')) {
        // The scene is muted
        XR.setMuted('scene1', false) // Unmute
    }

}
```

### Entering VR mode

For compatible devices, you can enable VR mode for your scene. When a user enters VR mode with a controller attached, the VR controller component tracks its location in 3D space.

```js
if (XR.isSceneLoaded('scene1')) {

    if (XR.isVRCapable('scene1')) {
        XR.enterVR('scene1')
    }

}
```

#### Capturing Audio Events

XR Category's scene controller emits audio-related events during scene playback. You can subscribe to those events with `XR.onSceneEvent` and provide audio controls in your app, e.g.: providing a *volume on* button when the browser audio is disabled.

```js

XR.onSceneEvent('scene1', 'AudioEnabled', () => console.log ('Audio is enabled') );
XR.onSceneEvent('scene1', 'AudioDisabled', () => console.log ('Audio is disabled') ));

```

#### Enabling Audio

In some browsers, automatic playback of audio is disabled by default, and it should be enabled in your code. To enable audio for the scene, you can use *enableAudio()* method with the scene name:

```js
XR.enableAudio('scene1')
```

#### API Reference

For a complete XR reference visit the [API Reference]({%if jekyll.environment == 'production'%}{{site.amplify.docs_baseurl}}{%endif%}/api/classes/xrclass.html)
{: .callout .callout--info}
