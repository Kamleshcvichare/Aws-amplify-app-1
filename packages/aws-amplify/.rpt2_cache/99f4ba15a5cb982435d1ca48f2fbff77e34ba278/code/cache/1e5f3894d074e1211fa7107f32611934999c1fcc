{"code":"import * as tslib_1 from \"tslib\";\r\nimport { ConsoleLogger as Logger } from '../../Common/Logger';\r\nimport { MqttOverWSProvider } from './MqttOverWSProvider';\r\nvar logger = new Logger('AWSAppSyncProvider');\r\nvar AWSAppSyncProvider = /** @class */ (function (_super) {\r\n    tslib_1.__extends(AWSAppSyncProvider, _super);\r\n    function AWSAppSyncProvider() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._topicObserver = new Map();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AWSAppSyncProvider.prototype, \"endpoint\", {\r\n        get: function () { throw new Error('Not supported'); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AWSAppSyncProvider.prototype.getProviderName = function () { return 'AWSAppSyncProvider'; };\r\n    AWSAppSyncProvider.prototype.publish = function (topics, msg, options) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\r\n            return tslib_1.__generator(this, function (_a) {\r\n                throw new Error('Operation not supported');\r\n            });\r\n        });\r\n    };\r\n    AWSAppSyncProvider.prototype.subscribe = function (topics, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _a = options.mqttConnections, mqttConnections = _a === void 0 ? [] : _a;\r\n        if (!mqttConnections.length) {\r\n            throw new Error('Missing connections info');\r\n        }\r\n        logger.debug('Connections info', mqttConnections);\r\n        // TODO: support multiple clients\r\n        var _b = mqttConnections[0], clientId = _b.client, url = _b.url;\r\n        // re-use observers\r\n        // this._topicObserver.\r\n        return _super.prototype.subscribe.call(this, topics, { clientId: clientId, url: url });\r\n    };\r\n    return AWSAppSyncProvider;\r\n}(MqttOverWSProvider));\r\nexport { AWSAppSyncProvider };\r\n//# sourceMappingURL=AWSAppSyncProvider.js.map","map":"{\"version\":3,\"file\":\"AWSAppSyncProvider.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/PubSub/Providers/AWSAppSyncProvider.ts\"],\"names\":[],\"mappings\":\";AAeA,OAAO,EAAE,aAAa,IAAI,MAAM,EAAE,MAAM,qBAAqB,CAAC;AAE9D,OAAO,EAAE,kBAAkB,EAAE,MAAM,sBAAsB,CAAC;AAE1D,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,oBAAoB,CAAC,CAAC;AAEhD;IAAwC,8CAAkB;IAA1D;QAAA,qEA4BC;QAlBW,oBAAc,GAAiC,IAAI,GAAG,EAAE,CAAC;;IAkBrE,CAAC;IA1BG,sBAAc,wCAAQ;aAAtB,cAA2B,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;;;OAAA;IAE9D,4CAAe,GAAf,cAAoB,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAErC,oCAAO,GAApB,UAAqB,MAAyB,EAAE,GAAQ,EAAE,OAAa;;;gBACnE,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;;;KAC9C;IAID,sCAAS,GAAT,UAAU,MAAyB,EAAE,OAAiB;QAAjB,wBAAA,EAAA,YAAiB;QAC1C,IAAA,4BAAoB,EAApB,yCAAoB,CAAa;QAEzC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1B,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAChD,CAAC;QAED,MAAM,CAAC,KAAK,CAAC,kBAAkB,EAAE,eAAe,CAAC,CAAC;QAElD,iCAAiC;QAC3B,IAAA,uBAA8C,EAA5C,oBAAgB,EAAE,YAAG,CAAwB;QAErD,mBAAmB;QACnB,uBAAuB;QACvB,MAAM,CAAC,iBAAM,SAAS,YAAC,MAAM,EAAE,EAAE,QAAQ,UAAA,EAAE,GAAG,KAAA,EAAE,CAAC,CAAC;IACtD,CAAC;IACL,yBAAC;AAAD,CAAC,AA5BD,CAAwC,kBAAkB,GA4BzD\"}"}
